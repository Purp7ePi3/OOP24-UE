<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd xmlns="https://pmd-code.org/schema/cpd-report"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         pmdVersion="7.8.0"
         timestamp="2025-03-26T15:52:45.9833962+01:00"
         version="1.0.0"
         xsi:schemaLocation="https://pmd-code.org/schema/cpd-report https://pmd.github.io/schema/cpd-report_1_0_0.xsd">
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\Main.java"
         totalNumberOfTokens="132"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\controller\game\GameController.java"
         totalNumberOfTokens="317"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\controller\input\KeyHandler.java"
         totalNumberOfTokens="178"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\controller\puzzle\PuzzleController.java"
         totalNumberOfTokens="200"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\entity\Door.java"
         totalNumberOfTokens="204"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\entity\Entity.java"
         totalNumberOfTokens="72"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\entity\Player.java"
         totalNumberOfTokens="397"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\game\GameState.java"
         totalNumberOfTokens="586"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom.java"
         totalNumberOfTokens="21"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom1.java"
         totalNumberOfTokens="299"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom2.java"
         totalNumberOfTokens="299"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom3.java"
         totalNumberOfTokens="299"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom4.java"
         totalNumberOfTokens="299"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom5.java"
         totalNumberOfTokens="299"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\Room.java"
         totalNumberOfTokens="73"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\view\panel\GamePanel.java"
         totalNumberOfTokens="551"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\view\panel\MainMenuPanel.java"
         totalNumberOfTokens="182"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\view\renderer\EntityRenderer.java"
         totalNumberOfTokens="529"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\view\renderer\RoomRenderer.java"
         totalNumberOfTokens="102"/>
   <file path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\view\texture\AssetLoader.java"
         totalNumberOfTokens="485"/>
   <duplication lines="47" tokens="280">
      <file begintoken="2135"
            column="23"
            endcolumn="2"
            endline="61"
            endtoken="2414"
            line="15"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom1.java"/>
      <file begintoken="2435"
            column="23"
            endcolumn="2"
            endline="61"
            endtoken="2714"
            line="15"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom2.java"/>
      <codefragment><![CDATA[    public PuzzleRoom1(final List<Door> doors, final GameState gameState) {
        super(Color.GRAY, doors);
        this.gameState = gameState;
    }
    
    @Override
    public void updatePuzzleLogic(final KeyHandler keyHandler) {
        int playerX = gameState.getPlayer().getX();
        int playerY = gameState.getPlayer().getY();
        
        if (!getDoors().isEmpty()) {
            Door firstDoor = getDoors().get(0);
            
            if (playerX == 0 && playerY == 0 && keyHandler.interactPressed) {
                puzzleSolved = true;
                firstDoor.setSolved(true);
                // Update the door in the main room
                gameState.updateDoorState(1, true); // 1 is the index of this puzzle room
                // Change room color
                setBackgroundColor(Color.PINK);
            }
        }
    }
    
    @Override
    public void draw(final Graphics2D g2) {
        g2.setColor(getBackgroundColor());
        g2.fillRect(0, 0, GamePanel.ORIGINAL_WIDTH, GamePanel.ORIGINAL_HEIGHT);
        
        // Draw doors
        for (Door door : getDoors()) {
            g2.setColor(door.isSolved() ? Color.GREEN : Color.RED);
            g2.fillRect(door.getX(), door.getY(), door.getWidth(), door.getHeight());
        }
        
        if (puzzleSolved) {
            g2.setColor(Color.WHITE);
            g2.setFont(g2.getFont().deriveFont(24f));
            g2.drawString("Puzzle Solved!", GamePanel.ORIGINAL_WIDTH / 2 - 80, GamePanel.ORIGINAL_HEIGHT / 2);
        }
    }
    
    @Override
    public boolean isPuzzleSolved() {
        return puzzleSolved;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="30" tokens="166">
      <file begintoken="2249"
            column="44"
            endcolumn="2"
            endline="61"
            endtoken="2414"
            line="32"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom1.java"/>
      <file begintoken="2849"
            column="44"
            endcolumn="2"
            endline="61"
            endtoken="3014"
            line="32"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom3.java"/>
      <file begintoken="3149"
            column="44"
            endcolumn="2"
            endline="61"
            endtoken="3314"
            line="32"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom4.java"/>
      <file begintoken="3449"
            column="44"
            endcolumn="2"
            endline="61"
            endtoken="3614"
            line="32"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom5.java"/>
      <codefragment><![CDATA[                gameState.updateDoorState(1, true); // 1 is the index of this puzzle room
                // Change room color
                setBackgroundColor(Color.PINK);
            }
        }
    }
    
    @Override
    public void draw(final Graphics2D g2) {
        g2.setColor(getBackgroundColor());
        g2.fillRect(0, 0, GamePanel.ORIGINAL_WIDTH, GamePanel.ORIGINAL_HEIGHT);
        
        // Draw doors
        for (Door door : getDoors()) {
            g2.setColor(door.isSolved() ? Color.GREEN : Color.RED);
            g2.fillRect(door.getX(), door.getY(), door.getWidth(), door.getHeight());
        }
        
        if (puzzleSolved) {
            g2.setColor(Color.WHITE);
            g2.setFont(g2.getFont().deriveFont(24f));
            g2.drawString("Puzzle Solved!", GamePanel.ORIGINAL_WIDTH / 2 - 80, GamePanel.ORIGINAL_HEIGHT / 2);
        }
    }
    
    @Override
    public boolean isPuzzleSolved() {
        return puzzleSolved;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="30" tokens="166">
      <file begintoken="2549"
            column="44"
            endcolumn="2"
            endline="61"
            endtoken="2714"
            line="32"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom2.java"/>
      <file begintoken="2849"
            column="44"
            endcolumn="2"
            endline="61"
            endtoken="3014"
            line="32"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom3.java"/>
      <file begintoken="3149"
            column="44"
            endcolumn="2"
            endline="61"
            endtoken="3314"
            line="32"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom4.java"/>
      <file begintoken="3449"
            column="44"
            endcolumn="2"
            endline="61"
            endtoken="3614"
            line="32"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom5.java"/>
      <codefragment><![CDATA[                gameState.updateDoorState(1, true); // 1 is the index of this puzzle room
                // Change room color
                setBackgroundColor(Color.PINK);
            }
        }
    }
    
    @Override
    public void draw(final Graphics2D g2) {
        g2.setColor(getBackgroundColor());
        g2.fillRect(0, 0, GamePanel.ORIGINAL_WIDTH, GamePanel.ORIGINAL_HEIGHT);
        
        // Draw doors
        for (Door door : getDoors()) {
            g2.setColor(door.isSolved() ? Color.GREEN : Color.RED);
            g2.fillRect(door.getX(), door.getY(), door.getWidth(), door.getHeight());
        }
        
        if (puzzleSolved) {
            g2.setColor(Color.WHITE);
            g2.setFont(g2.getFont().deriveFont(24f));
            g2.drawString("Puzzle Solved!", GamePanel.ORIGINAL_WIDTH / 2 - 80, GamePanel.ORIGINAL_HEIGHT / 2);
        }
    }
    
    @Override
    public boolean isPuzzleSolved() {
        return puzzleSolved;
    }
}]]></codefragment>
   </duplication>
   <duplication lines="18" tokens="113">
      <file begintoken="2135"
            column="23"
            endcolumn="43"
            endline="32"
            endtoken="2247"
            line="15"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom1.java"/>
      <file begintoken="2735"
            column="23"
            endcolumn="43"
            endline="32"
            endtoken="2847"
            line="15"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom3.java"/>
      <file begintoken="3035"
            column="23"
            endcolumn="43"
            endline="32"
            endtoken="3147"
            line="15"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom4.java"/>
      <file begintoken="3335"
            column="23"
            endcolumn="43"
            endline="32"
            endtoken="3447"
            line="15"
            path="C:\Users\sbrun\Desktop\GitHub\OOP24-UE\src\main\java\it\unibo\exam\model\room\PuzzleRoom5.java"/>
      <codefragment><![CDATA[    public PuzzleRoom1(final List<Door> doors, final GameState gameState) {
        super(Color.GRAY, doors);
        this.gameState = gameState;
    }
    
    @Override
    public void updatePuzzleLogic(final KeyHandler keyHandler) {
        int playerX = gameState.getPlayer().getX();
        int playerY = gameState.getPlayer().getY();
        
        if (!getDoors().isEmpty()) {
            Door firstDoor = getDoors().get(0);
            
            if (playerX == 0 && playerY == 0 && keyHandler.interactPressed) {
                puzzleSolved = true;
                firstDoor.setSolved(true);
                // Update the door in the main room
                gameState.updateDoorState(1, true); // 1 is the index of this puzzle room
]]></codefragment>
   </duplication>
</pmd-cpd>
